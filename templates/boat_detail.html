<!-- templates/boat_detail.html  -->
{% extends "base.html" %}
{% load bootstrap4 %}
{% load static %}
{%  load thumbnail %}
{% load i18n %}

{% block title %}
    {{ current_boat.boat_name }}
{% endblock title %}
{% block content %}
    <div class="container-fluid">
        <div class="row mt-3">
            <div class = "col-md-3 text-left">

                <ul type="square" class="border-right">
                    <h4 > {% trans "Boat details" %}</h4>
                    <li>Boat name -{{ current_boat.boat_name }}</li>
                    <li>Boat waterline length-{{ current_boat.boat_length }} feats </li>
                    <li>Boat rigging type-{{ current_boat.boat_mast_type }}</li>
                    <li >Country of origin-{{ current_boat.boat_country_of_origin.name }}
                        <img class=" align-self-center " style="margin: 6px 4px 0; width: 35px; height: 20px; align-content: center" src='{{current_boat.boat_country_of_origin.flag}}'/> </li>

                    <li>Boat keel type -{{ current_boat.boat_keel_type }}</li>
                    <li>Publishing date-
                        {{ current_boat.boat_publish_date|date:"SHORT_DATE_FORMAT"  }}</li>
                    <li>Price-{{ current_boat.boat_price }} &euro;</li>
                    <li>Manufacturing history of the model - {{ current_boat.first_year }} to {{ current_boat.last_year }}</li>
                    <li> <a href="{{ current_boat.boat_sailboatdata_link }}">Link to SailboatData</a></li>
                    <li> Entry Author-{{ current_boat.author}}</li>

                </ul>

            </div>
            <div class="col-md-7 border-right ">
                <p>Description-{{ current_boat.boat_description }}</p>



                <div class="btn-group dropright border   ">
  <button type="button" class="btn btn-secondary dropdown-toggle border-success rounded" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Get this as PDF
  </button>
  <div class="dropdown-menu" x-placement="right-start" style="position: absolute; transform: translate3d(111px, 0px, 0px); top: 0px; left: 0px; will-change: transform;">
    <a class="dropdown-item" href="{%  url "boats:pdf" pk=current_boat.pk %}">Open as a  PDF</a>
    <a class="dropdown-item" href="{%  url "boats:pdf_to_file" pk=current_boat.pk %}">Download PDF to your computer</a>
  </div>
</div>


            </div>
            <div class="col-md-2  justify-content-end text-right mr-0  ">

                <style>
                    .btn-group-vertical a, .btn-group-vertical button {
                        width: 100%; margin-right: 0px;

                    }
                </style>

                <div class="btn-group-vertical btn-outline-dark rounded border border-success mr-2" role="group" aria-label="page management"  >
                    <a href="{% url "boats:boats"   %}"><button type="button" class="btn btn-secondary rounded-0 border-bottom">Back</button></a>
                    <a href="{% url "boats:boat_edit" current_boat.pk %}"> <button type="button" class="btn btn-secondary rounded-0 border-bottom ">Edit</button></a>
                    <a href="{% url "boats:boat_delete" current_boat.pk %}"><button type="button" class="btn btn-secondary rounded-0 border-bottom">Delete</button></a>
                    <a href="{%  url "articles:comment" key="boats" pk=current_boat.pk %}"><button type="button" class="btn btn-secondary rounded-0 ">Comment</button></a>
                </div>




                <div class = row >
                    <div class="col mr-2">


                            {%  for article in articles %}
                                {% if forloop.first %}<h6 class="mt-4"> Articles on {{ current_boat.boat_name }}</h6>{% endif %}
                                <ul type="square" class="border-right mt-2 text-right " style="list-style: none" >
                                    <li><a href="{% url "articles:detail" current_heading_pk=article.foreignkey_to_subheading_id  pk=article.pk %}{{ all }}">{{ article.title }}</a></li>
                                </ul>
                                {% empty %}
                                <h6 class="mt-4"> {{ current_boat.boat_name }} doesn't have any article. </h6>
                            {% endfor %}




                        <a href="{%  url "articles:add_article" current_boat.heading.pk    %}"><button type="button" class="btn btn-secondary rounded-0 border border-success  ">Add an article</button></a>

                    </div>
                </div>


            </div>
        </div>
    </div>







<div class="row mx-3 ">
    {% for instance in images %}

        <a  href=" {{ instance.boat_photo.url}}"> <img class="  ml-3 mb-2" src="{% thumbnail instance.boat_photo "default"  %}"></a>


    {% endfor %}
</div>


    {%  for comment in comments %}

        <Ul style="list-style: none" class="mt-3 mr-3">
            <li> <strong>{{ comment.author }} </strong> <i> {{ comment.created_at|date:"SHORT_DATE_FORMAT"  }} </i></li>
            <li> {{ comment.content }} </li>
        </Ul>
        <hr>
    {%  endfor %}



{% endblock content %}

